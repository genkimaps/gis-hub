{% extends "page.html" %}

{% block subtitle %}Documentation{% endblock %}

{% block primary_content %}
  <article class="module">
    <div class="module-content">
      {% block docs %}
        <h1 class="page-heading">GIS Hub Documentation</h1>
        <p>Welcome to the GIS Hub documentation page.  This section of the site
        contains the latest documentation and should be considered more
        authoritative than any existing version of the GIS Hub publishing guide. </p>
      {% endblock %}


        <h2 id="issues">Known Issues</h2>
      <p>This section summarizes known issues on the GIS Hub
        that affect the end-user experience, and where available,
        a workaround. </p>
      <p>
        <b>Problem:</b> Adding multiple Species Codes to a dataset only lets
        you select the first species code.  Also, species codes after
        29V - NASSARIUS FOSSATUS do not work.
        <br>
        <b>Workaround:</b>  Include a file called species_codes.csv, with
        a list of all your codes, inside the zipped data upload.
        See the section on Species Codes for a detailed description
        of the file format. This does not solve the bug with codes
        after 29V not being saved, but as long as the species codes are
        saved in the csv file, the list of codes can be refreshed
        when this bug is fixed.
      </p>

      <p>
        <b>Problem:</b> The Download ZIP button shows a disclaimer,
        but when you click Accept, nothing happens.
        <br>
        <b>Workaround:</b> under Data and Resources, identify the
        data package you wish to download.  Click the Details button
        to the right of the Download Zip button, then click Download
        near the top-right.
      </p>

      <p>
        <b>Problem:</b> Non-science keywords are not restricted to
        the list of keywords from the Government of Canada
        <a href="http://canada.multites.net/cst/index.htm" target="_blank">Core
        Subject Thesaurus</a>.
        The autocomplete displays only previously-entered keywords,
        instead of the list from the GoC Thesaurus.  Additionally,
        it does not prevent you from entering a keyword that does
        not exist in the GoC Thesaurus.
        <br>
        <b>Workaround:</b> Please be careful when entering keywords.
        Look up the keywords on the thesaurus website first.
      </p>


      <h2 id="intro">Introduction</h2>
      <p>The GIS Hub system is live and ready for users to publish data.
        This documentation page contains guidelines for preparing
        your data and metadata for publishing on the system.  Please note
        that some of these guidelines may change as the system is improved. </p>

      <p>Keep in mind that these are <i>guidelines</i> and not strict rules.
        We prefer that staff start using the system as soon as possible,
        so that any unforeseen issues can be resolved before full release.
        Even if your data does not meet all of the requirements listed here,
        you may prepare it for publishing anyway, with the understanding
        that the published data and/or metadata can easily be updated in the future.  </p>

      <h2 id="overview">Metadata Overview</h2>
      <p>The Pacific Science metadata working group has created a comprehensive
        metadata standard with relevant fields for Science.  In addition to
        ]the science metadata, the standard includes general-purpose
        geospatial metadata.  The general metadata is required for all spatial
        data published on the Federal Geospatial Portal (FGP) and/or Open Data.
        Even if your data is not a candidate for publishing on FGP or Open Data,
        the general metadata is required since it provides important information
        for staff downloading and using the data.  </p>
      <p>The metadata standard is divided into several modules, each of which
        contains a number of metadata fields.  The same modules are shown on
        the GIS Hub on the metadata forms, when creating a new dataset.
        We suggest that you write your metadata in a document and copy and
        paste the content into the metadata system, when both the data and
        metadata are ready. </p>
      <p>During the data upload process, your data is extracted automatically
        by the server and properties such as projection and spatial extents
        are recorded.  Metadata fields that are extracted automatically are
        not shown in the metadata modules below—only the fields that require
        manual input in the metadata entry system are shown.</p>
      <p>All fields in each metadata module are required unless marked as
        optional.</p>


      <h2 id="modules">Metadata Modules</h2>
      <h3 id="basic">Basic Information</h3>
      <p>This section is a set of basic information required for all metadata entries.
        This information is displayed near the top of the page when viewing metadata.</p>
      <p>The metadata standard requires contact information for organizations
        responsible for various aspects of the data.  Two sets of contact
        information are required: data creator (included in the Basic Information
        section) and program manager. </p>

      <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <th scope="col" style="width:25%">Field</th>
            <th scope="col" style="width:75%">Description</th>
          </tr>
        </thead>
        <tbody>
        <tr>
          <td>Title</td>
          <td>Short title, no longer than a newspaper headline. This is displayed
            on the GIS Hub when this dataset appears in search results. </td>
        </tr>
        <tr>
          <td>Summary</td>
          <td>Brief narrative summary of the dataset's contents.  Please summarize the following:
            <ul>
              <li>What data is included</li>
              <li>What accessory information (reports, scripts) is included</li>
              <li>Objectives</li>
              <li>Describe the knowledge gap(s) the dataset is intended to fill</li>
              <li>If there are multiple tables/layers in the dataset, how are they related?</li>
            </ul>
        </tr>
        <tr>
          <td>Maintainer Email</td>
          <td>Email address of a person responsible for the dataset.  Notifications about
            access requests and other updates will be send to this email. </td>
        </tr>
        <tr>
          <td>URL (Dataset ID)</td>
          <td>Enter a unique URL for this dataset. The URL should contain only
            lowercase letters and hyphens. For example, if your dataset is
            Sponge Reefs, set an easy-to-remember URL such as <i>sponge-reefs</i>.
            This will form part of the complete URL for the dataset. </td>
        </tr>
        <tr>
          <td>Organization</td>
          <td>Choose from the list - The organization (GC Department or Agency)
            primarily responsible for publishing the dataset.  Departments
            within government should be specified down to the section level.  </td>
        </tr>
        <tr>
          <td>Visibility</td>
          <td>Set to Public when all required metadata fields have been
            entered and the data is ready to be published.  Note that
            setting Public does not make the dataset visible to all users,
            nor to Google; it only means that the dataset is published and
            will appear in search results on the GIS Hub.  Access permissions
            for datasets (who is allowed to download / view) are set elsewhere.
            <br><br>
            Set this to Private if you do not yet have all the information
            you need to complete the required metadata fields.   When set to
            Private, you can save the metadata form, even if it is incomplete,
            and come back to it later.  Your Private (i.e., incomplete or
            unpublished) datasets can be viewed by clicking your username
            at the top right and looking for entries marked Draft.
            You may also wish to bookmark the URL of the dataset,
            which will not change.
          </td>
        </tr>
        <tr>
          <td>Cite this data as</td>
          <td>Describe how this data should be cited.  This is generated
            automatically by the GIS Hub from the metadata you entered,
            but it can be edited manually.</td>
        </tr>
        <tr>
          <td>Start Date</td>
          <td>Indicate the earliest date represented in this dataset.</td>
        </tr>
        <tr>
          <td>End Date</td>
          <td>Indicate the latest date represented in this dataset.
            (Note: this field is no longer optional.  If data collection
            is ongoing, do not leave this blank; choose Ongoing under the
            Status section.)   If this is a model or derived data
            (as opposed to data collected in the field), enter the
            last date that the model used to generate this data was updated.
            In this case, end date can be the same as start date. </td>
        </tr>
        <tr>
          <td>Data Creator</td>
          <td>The Principal Analyst. The lead person responsible for creating
            the data. Provide the Name, Role, Department, Address, Phone, email. </td>
        </tr>
        <tr>
          <td>Co-Creators <br>
            <i>(optional)</i>
          </td>
          <td>Provide the names of any additional co-creators (secondary authors)
            for this dataset.</td>
        </tr>
        <tr>
          <td>Program Manager</td>
          <td>The DFO Program Head responsible for the data (must be a permanent
            DFO employee or section head?). Provide the Name, Role, Department,
            Address, Phone, email. </td>
        </tr>
      </tbody>
    </table>


    <h3 id="general">General Metadata</h3>
    <p>This section describes general-purpose metadata required for
      all spatial data. </p>
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th scope="col" style="width:25%">Field</th>
          <th scope="col" style="width:75%">Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Topic Category</td>
          <td>Main theme of the data. Choose the best match from the list. </td>
        </tr>
        <tr>
          <td>Date Completed</td>
          <td>The date on which the dataset was substantially complete
            in its current form. </td>
        </tr>
        <tr>
          <td>Date Published</td>
          <td>Date of publication of dataset. Default: today's date.
            This refers to publication of the data on this portal,
            not necessarily the date of publication of the associated
            academic research (academic references are described elsewhere). </td>
        </tr>
        <tr>
          <td>Status</td>
          <td>Development phase of the dataset.  Choose the
            best match from the list.  </td>
        </tr>
        <tr>
          <td>Update Frequency</td>
          <td>Revision cycle of the data.  Choose the
            best match from the list.  </td>
        </tr>
        <tr>
          <td>Dataset Level</td>
          <td>Use Dataset if this is a standalone data product.  Series is
            individual regions in a series of datasets covering a larger area,
            or some other subset of a larger data package.  </td>
        </tr>
        <tr>
          <td>Keywords</td>
          <td>At a minimum, one keyword must be supplied from the Government
            of Canada Core Subject Thesaurus.  Refer to <a href="http://canada.multites.net/cst/index.htm">
              http://canada.multites.net/cst/index.htm</a>.
            You are most likely to find useful keywords in the
            “nature and environment” and “science and technology” categories.</td>
        </tr>

      </tbody>
    </table>


    <h3 id="science">Science Metadata</h3>
    <p>This section is required for all scientific data. </p>
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th scope="col" style="width:25%">Field</th>
          <th scope="col" style="width:75%">Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Science Keywords</td>
          <td>Enter additional comma-separated keywords not included in the
            general-purpose Government of Canada Core Subject Thesaurus.
            These keywords may include domain-specific vocabulary appropriate
            for scientific users.  The format of keywords should be:
            <ul>
              <li>General terms: lowercase</li>
              <li>Place names: Camel Case</li>
              <li>Acronyms:  ALL CAPS</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>Theme</td>
          <td>Choose the best match from the list. </td>
        </tr>
        <tr>
          <td>Methods</td>
          <td>The methods field documents scientific methods used in the
            collection or derivation of this dataset.  It includes
            information on items such as tools, instrument calibration
            and software. It can also include a complete description
            of the lineage of the data.  It may refer to sections of
            an associated academic citation or other published resource.
            <br><br>

            Understanding the pedigree of the data is critical. Ideally, this will
            link the data set, through its methods, all the way back to the
            source data set(s), for which the data collection methods are known.
            <br><br>

            Relevant raster methods include: any interpolation or extrapolation,
            and any masking or numeric manipulation of the source data.</td>
        </tr>
        <tr>
          <td>Data Sources</td>
          <td>List of source data inputs used to produce this dataset.
            For each input, provide a link to the source data where possible
            (to another dataset on the GIS Hub, or an external link).
            Include the date that the input was extracted, if known.
            If the source data changes over time, indicate the date on
            which the data was retrieved. Where possible, provide a
            citation for each input.
            <br><br>
            Example input:
            <br>
            Originator: Canadian Hydrographic Service, Fisheries and Oceans Canada (DFO)
            <br>
                  Publication_Date: 2015
            <br>
                  Title: Geodatabase of Bathymetric point data for entire BC coast
            <br>
                  Other_Citation_Details: Geodatabase: GEOBASE_Entire_Coast.gdb
            <br>
            (link to dataset if available)
          </td>
        </tr>
        <tr>
          <td>Scripts</td>
          <td>Link to script(s) used to process the data, for example on the
            GCCode GitLab site. Alternatively, include the scripts or queries
            in a Scripts folder inside in the zip file that you will upload.
            Document the purpose of each script, and anything required to run
            the script again.
            <br><br>

            If no scripts were used to create the data, use this field to
            indicate how it was created, for example “manually created
            using analysis tools in ArcGIS.”</td>
        </tr>
        <tr>
          <td>Spatial Data Quality</td>
          <td>A measure of the quality of the spatial data representing some real-world entity.  Describe the spatial data quality with reference to the data processing steps.  Was location data captured with survey-grade GPS, consumer GPS, paper charts, ship’s log?  Was data digitized from a scanned and georeferenced paper map? Is this dataset the result of intentional degradation of the input data to preserve privacy (e.g. 3 boat rule) and therefore has a known spatial resolution? Were multiple datasets captured at different spatial resolutions used in this analysis? Were point data extrapolated to polygons, or polygons/lines converted to centroids?</td>
        </tr>
        <tr>
          <td>Positional Accuracy</td>
          <td>May include horizontal and vertical. Express in metric units where possible.</td>
        </tr>
        <tr>
          <td>Attribute Accuracy</td>
          <td>Describe in general the degree to which attribute values reflect real-world conditions.  For details on specific attributes, see the Attributes Metadata section.</td>
        </tr>
        <tr>
          <td>Logical Consistency</td>
          <td>Report on fidelity of relationships in the data set, the validity of its relationships to other data sets, and the degree to which the entities represent the real-world objects or concepts they are intended to capture.</td>
        </tr>
        <tr>
          <td>Completeness</td>
          <td>Report on the completeness of the dataset relative to its areal coverage, and the overall completeness of attributes.</td>
        </tr>
        <tr>
          <td>Absence Data</td>
          <td>Does the dataset include recorded (observed) absence of specific features, and if so, for which attributes?</td>
        </tr>
        <tr>
          <td>Uncertainties</td>
          <td>Describe uncertainties in measurement and methodology. Include any known biases. For example, was data collection opportunistic, or part of the survey design? In there any known bias from individual observers? </td>
        </tr>
        <tr>
          <td>Use Restrictions</td>
          <td>Restrictions on appropriate use of the resource.  Examples:  Not suitable for navigation.  Do not use for fisheries assessment.</td>
        </tr>
        <tr>
          <td>Change History</td>
          <td>A description of changes made to the data since its release.   Create an entry for each change, indicate the date of change and describe what was changed and why. When a dataset is first published, there is one change history entry for the initial creation of the dataset.  Add additional change history entries as needed.</td>
        </tr>
        <tr>
          <td>Change Date</td>
          <td>Date on which the change was made to the data.  Default: today’s date.</td>
        </tr>
        <tr>
          <td>Temporal Coverage <br>
          (optional)
          </td>
          <td>If the temporal coverage of the dataset is more complex than a simple start and end date, describe it here.  You may describe temporal coverage as a single point in time, multiple points in time, and one or more range of dates.  Seasonality can also be described here.  For derived datasets, please specify the temporal coverage of all input data here. Specific start and end dates are preferable, but year ranges are acceptable if the exact dates are uncertain or not applicable.</td>
        </tr>
        <tr>
          <td>References</td>
          <td>Academic references that are closely associated with the data.  Create one entry for each reference.  Indicate whether the reference IS the place where this data was published (e.g. as a map).   </td>
        </tr>
        <tr>
          <td>Collaboration</td>
          <td>Describe collaboration with academia, other government agencies, and external contributors. If produced internally by DFO, enter 'No collaboration outside of DFO.'  Indicate collaboration with organizations rather than individuals. </td>
        </tr>
        <tr>
          <td>Other Information <br>
          (optional)</td>
          <td>Relevant information that does not fit in any other category.</td>
        </tr>
        <tr>
          <td>Confidentiality</td>
          <td><p>Level of confidentiality or sensitivity of the dataset.  For a description of the categories, refer to: https://www.tpsgc-pwgsc.gc.ca/esc-src/protection-safeguarding/niveaux-levels-eng.html.  </p>

<p>Not Protected means that no harm would occur if the data were released to the public.  However, choosing this option does not imply that your data will be made public on this website (all datasets published on this site are restricted, at minimum, to registered users).</p>

<p>Protected A applies to data that could harm individuals or corporations if released, such as fishing events and bathymetry.  Note that fishing data received 'in confidence' should be Protected A, not Confidential.  </p>

<p>Confidential applies to data that could harm the national interest if released.  At this time, Confidential should be used only for abalone data. </p>

<p>Data classified as Protected B, Secret, or any higher classification cannot be uploaded on this system.  For these security classification, you may still create a dataset record using this system, but do not upload the actual data.</p>
          </td>
        </tr>

      </tbody>
    </table>


    <h3 id="species">Species Codes</h3>
    <p>Species codes are only required if your data is biological.
      Complete the following metadata for <b>each</b> species in your data.
      If the list of species is excessively long, you may include a list
      of species codes in a csv (see below). </p>

    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th scope="col" style="width:25%">Field</th>
          <th scope="col" style="width:75%">Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Species Code</td>
          <td>A code from the list of ~7400 species codes in use at Pacific Science. If a code you need is not available, the list can be updated. </td>
        </tr>
        <tr>
          <td>Age Data</td>
          <td>Does the sample include age data?</td>
        </tr>
        <tr>
          <td>Observation Type</td>
          <td>Was the species observed incidentally, or targeted as part of the survey design?  Was the presence of species inferred or observed?
Choose from: Targeted observation, incidental observation, inferred.</td>
        </tr>
      </tbody>
    </table>

      <h3>Including a species codes file</h3>
      <p>In many cases, it will be more convenient to include a file with a list of species codes, instead of filling out this form manually.  The format of the file is one line per species code. </p>
      <p>First column: species code <br>
      2nd column: Observation type:  targeted / incidental / inferred  Default: targeted <br>
      3rd column: Age data:  yes / no   Default: no
      </p>
      <p>For each line, only the species code is required.  If the 2nd or 3rd column is not included for a given line, the default values will be used.  The csv file does not need a header.  Values do not have to be enclosed in quotes (any quotes found will be removed).  Do not use any character other than a comma to separate values.  </p>
      <p>The file must be called <i>species_codes.csv</i> and included in the zip file with your data. </p>

      <h2 id="add-data">Adding Data</h2>
      <p>Once all of the required metadata listed above has been entered, you can continue to adding data to your dataset record.  Ensure that Visibility is set to Public and click “Next: Add Data” at the bottom of the page.  This will take you to the Add Data screen. </p>
      <p>Most of the metadata in this section is extracted automatically when you upload your data package. The only fields you need to complete before uploading data are the following:</p>

      <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th scope="col" style="width:25%">Field</th>
          <th scope="col" style="width:75%">Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Title</td>
          <td>If you are uploading a data package, enter a short title, e.g. Bottom Patches - Data Package.  For layers/files inside your data upload, this field will be populated automatically with the layer/file name (please do not change it).  </td>
        </tr>
        <tr>
          <td>Download Disclaimer <br> <i>(optional)</i></td>
          <td>A disclaimer that is displayed to authorized users before allowing data download. Can consist of text from Caveats, Use Restrictions, user-defined text, and/or links to external documents with full terms and conditions.  You may also choose to use the boilerplate disclaimer, which is shown by default.</td>
        </tr>
        <tr>
          <td>Download Disclaimer (External Link) <br> <i>(optional)</i></td>
          <td>Optional URL to a downloadable disclaimer (e.g. a PDF file) with terms and conditions that must be accepted before downloading this resource.</td>
        </tr>
        <tr>
          <td>Access Restrictions</td>
          <td>Access restrictions determine who can view all of the metadata content and download the data. Even for sensitive datasets, a minimum set of metadata fields are required and will be visible to all users: the dataset title, summary, keywords, and contact information for the data owner. You may choose to allow other metadata fields and data download to be available to any of the following:
            <ul>
              <li>All Registered Users: anyone who is registered on the GIS Hub will have access. </li>
              <li>Any Organization Members: restrict access to users who are in an organization on the GIS Hub. </li>
              <li>Same Organization Members: restrict access to users who are in the same organization. For example, if you are in the MSEA organization, all MSEA users, but no one outside of MSEA, will have access. </li>
              <li>Allowed Users/Groups Only: allow access only for specific users or groups. If you choose this option, individual users can be added by typing names into the Allowed Users field below.</li>
            </ul>

          </td>
        </tr>
      </tbody>
    </table>

      <p>All other fields on this form can be left <b>blank</b> or with their default values. The GIS hub will extract metadata from your uploaded file and automatically populate this section.  For each attribute field, the  name and type will be detected automatically, but you will need to provide a description, units, and coded values manually, after the data has been uploaded and processed (see below). </p>
      <p>
        To upload a file, choose Upload near the bottom of the form.  At the bottom of the form, click the Finish button and wait for your upload to complete (avoid using the Save and Add Another button).  After it is complete, you will be redirected to the dataset summary page, showing the metadata associated with the dataset and a list of detected spatial data layers/tables (listed at the top under Data and Resources).  You need to <b>refresh the page once</b> to show all of the extracted layers.  If your dataset is large, you may need to wait several minutes before metadata entries for all layers are shown. </p>

      <p>ADD RESOURCE LIST SCREENSHOT</p>
      <img src="/base/images/docs/resources-note.png">
      <p>The first item under Data and Resources after your data upload is complete is the data download placeholder.  On the right, it has a green Download ZIP button.  Below this, one entry is created for each supported file found in the uploaded zip.  These entries refer to data contained within the zip file, so they do not have their own download links (previously, each one had a download link, which was confusing).  Each of these has a Details button, where you can view and edit the metadata that is detected automatically.  From the Details view, click Manage to edit metadata for each item.  At minimum, you must complete a description for each field in the attributes (if the item has an attribute table), and complete the Layer Description field.  The title field is set to the layer name or file name—do not change it. </p>

      <p>Instead of uploading a file, you may alternatively use the Link button to provide a URL, if the data is stored on an external website.  If you are linking to data on an external website, geospatial metadata will not be automatically detected, so you will need to populate this section yourself. </p>

      <p>Files other than geospatial data will also be detected and added to the list of Data and Resources.  The supported non-spatial file types are listed below.  For items of these types, only the “Layer Description” field needs to be completed.  Other fields relevant to spatial data should be left blank for non-spatial file types (blank fields are not shown when viewing metadata entries).  </p>

      <h3 id="filetypes">Supported File Types</h3>
      <p>The following file types are supported in the GIS Hub, and have relevant metadata automatically detected. </p>

      <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th scope="col" style="width:35%">File Type</th>
          <th scope="col" style="width:65%">Notes</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>ESRI File Geodatabase (.gdb)</td>
          <td>Preferred format for vector data, and standalone tables that are part of a spatial dataset.  File geodatabase rasters, and layers in a feature dataset, are not supported.  </td>
        </tr>
      <tr>
          <td>Shapefile (.shp)</td>
          <td>Shapefile is a commonly-used distribution format.  However, it has problems with projections not being consistently defined, and limitations in the size and structure of attribute tables.  File geodatabases are preferred. </td>
        </tr>
      <tr>
          <td>Geotiff (.tif, .tiff, .geotiff)</td>
          <td>Preferred format for raster data.  </td>
        </tr>
      <tr>
          <td>Google Earth (.kml, .kmz)</td>
          <td>You may wish to include a copy of your data in kml for the convenience of non-GIS users.  However, this should not be used as the primary data distribution format. </td>
        </tr>
      <tr>
          <td>GeoJSON (.json, .geojson)</td>
          <td>A convenient interchange format for small files, but should not be used as the primary data distribution format</td>
        </tr>
      <tr>
          <td>ESRI Layer file (.lyr)</td>
          <td></td>
        </tr>
        <tr>
          <td>.zip</td>
          <td>You may add zip files containing supplementary data or documentation inside the main zip file that you upload.  </td>
        </tr>

      <tr>
          <td>Word Document (.doc, .docx)</td>
          <td></td>
        </tr>
      <tr>
          <td>Portable Document Format (.pdf)</td>
          <td></td>
        </tr>
      <tr>
          <td>Text file (.txt, .csv)</td>
          <td>Can be used for text content, but preferably not for tabular data</td>
        </tr>
      <tr>
          <td>Excel (.xls, .xlsx)</td>
          <td></td>
        </tr>


      </tbody>
    </table>

      <h3 id="attrib-meta">Attribute Metadata</h3>
      <p>Attribute field names and types are detected automatically from the uploaded data (if the upload contains geospatial data with an attribute table in a recognized format).  Additional information on each attribute must be entered manually.   To manually enter attribute metadata, wait until the metadata extraction is complete for all layers/tables in the uploaded data.   Each layer/table has its own set of attributes.  In the list of Data and Resources, click Details, then click Manage.  Scroll down until you see the section Attributes. </p>
      <p>Each attribute must have, at minimum, a description. Some attributes that are common to all spatial datasets will be pre-filled with a description.  For raster data, if the raster includes an attribute table, complete this table using the attributes from the raster (raster attributes are not extracted automatically).  If the raster does not include an attribute table, use the Layer Description to indicate what the raster values represent. </p>
      <p>For <b>each</b> field in the attribute table, complete the following metadata. </p>

      <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th scope="col" style="width:25%">Field</th>
          <th scope="col" style="width:75%">Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Field Name</td>
          <td>Field name in the attribute table (automatically filled when data is uploaded)</td>
        </tr>
        <tr>
          <td>Field Type</td>
          <td>Field type in the attribute table (automatically filled when data is uploaded). Text, Date, Integer, Double, Boolean.</td>
        </tr>
        <tr>
          <td>Field Description</td>
          <td>The description should indicate what the value represents, how was it measured, and whether it is generalized.</td>
        </tr>
        <tr>
          <td>Units <br><i>(Optional)</i> </td>
          <td>If the attribute is quantitative, indicate the measured units and an estimate of the accuracy.</td>
        </tr>
        <tr>
          <td>Coded Values <br><i>(Optional)</i> </td>
          <td>If the attribute contains a list of coded values (i.e. values from a lookup table), describe the meaning of each of the codes. (For a very long list of coded values, instead provide a link or reference to a document or website describing the coded values.)</td>
        </tr>

    </tbody>
    </table>

      <h2 id="data-prep">Data Preparation</h2>
      <h3 id="spatial-val">Spatial Validation</h3>
      <p>This section describes steps to validate your spatial data before publishing.  A Data Quality Report toolbox for ArcGIS has been developed to help with this process.  Instructions for installing and using the toolbox are on the Spatial Datasets drive at \\dcbcpbsna01a\GIS_Tools\QualityReportTool.zip. </p>

      <h4>Projection</h4>
      <p>Ensure that the projection (spatial reference) is valid. Every dataset should have a projection from the <a href="http://spatialreference.org/ref/epsg/">EPSG code list</a>.  On the west coast of Canada, commonly-used projections are: </p>

      <ul>
        <li>BC Albers equal area (EPSG:3005)</li>
        <li>UTM zone 10N (EPSG:3157)</li>
        <li>Latitude-longitude WGS 84 (unprojected) (EPSG:4326)</li>
      </ul>

      <p>Avoid using custom projections (not in the EPSG code list) if possible. The only reasonable exception to this would be data collected on a custom grid, where documentation refers to specific coordinates on this grid.  In this case, every effort should be made to link the custom grid to a standard projection, and provide a copy of the data in a standard projection. </p>

      <p>Perform a visual check to ensure that the features are at the expected location.  An excellent way to do this is to add a basemap layer with satellite imagery in ArcGIS. Avoid comparing against other vector layers, since they may all contain the same spatial offset!  This is particularly important if the data were digitized from paper charts or aerial photographs. </p>

      <h4>Feature Geometry</h4>

      <p>For vector layers, all feature geometries must be clean. In ArcGIS, run the <a href="http://desktop.arcgis.com/en/arcmap/latest/tools/data-management-toolbox/repair-geometry.htm">repair geometry tool</a> on all data.  The Quality Report toolbox described above includes the Repair Geometry function. </p>

      <p>Geometries should have a reasonable number of vertices per feature, appropriate for the scale at which the data are intended to be used.  Do not simplify features whose boundaries must exactly line up with other features (e.g. the shoreline of PFMAs): doing so may introduce slivers and gaps in future spatial analyses.  Check for sliver polygons (polygons with a very small area), gaps (use Erase analysis on a background polygon) and overlaps (intersect the data with itself). Take appropriate steps to resolve. If resolution of these problems is not feasible, clearly document the existence of these issues in the metadata (spatial data quality section).</p>

      <h4>Geometry Types</h4>

      <p>For vector data, feature classes must be point, polyline, or polygon features. Avoid the following:</p>
      <ul>
        <li>Complex or custom geometry types, unless absolutely necessary.  </li>
        <li>Feature class annotations</li>
        <li>Feature class representations</li>
        <li>Point symbols exploded to polygons (may happen when data is converted from a CAD format</li>
        <li>A feature class should only include Z geometry if the data really are 2.5 or 3-dimensional. Similarly, M geometry is only applicable if the data is has a time dimension (in other words, features change over time, instead of having a unique feature per instance of time).  Otherwise, use only XY geometry.</li>
      </ul>

      <h3 id="attrib-val">Attribute Validation</h3>

      <p>This section describes required validation for values in the attribute table. </p>
      <h4>Null and 0 Values</h4>
      <p>Null values in the attribute table are reasonable as long as they are justifiable and documented.  As a rule, Null values are not acceptable if they are there simply because that column in the attribute table has not yet been populated.  A null value indicating the absence or inapplicability of something is perfectly ok, as long as it is documented.  For example, if a Null value in a field means “no reading” or “no observation for this field on this record” or “not applicable for this record” it should be clearly documented in the metadata for that field.  In addition, Null in any given field should only represent one condition, and must never be used to group different conditions.  For a quantitative field, it is preferable to use Null to represent “no data,” rather than an arbitrary number such as -99.  If an instrument or measurement has a minimum detection limit, say 0.001, and you need to represent “below detection limit” in addition to “no data,” it is preferable to use Null for no data, and an arbitrary number for “below detection” or other edge cases. Again, all of these conditions must be documented in metadata. </p>

      <p>A value of 0 in a quantitative field should indicate that the <b>measured</b> value was 0: be careful of number fields which are populated by default with all zeros at the time of creation (which happens automatically in some GIS software).  If 0 is meaningless in the field, all zeros should be replaced with Nulls, or some other value that has meaning. For qualitative fields, ensure that the difference between “observed absence” and “not observed” is clear.  “Observed absence” should have a defined text code, while “not observed” should be represented with Null. </p>

      <h4>Appropriate Field Types</h4>
      <p>Do not use a text field to represent a quantitative attribute.  Instead, use the appropriate numeric field type: double or integer.  It is better to use double instead of float, and integer instead of short integer (float and short integer data types impose an arbitrary and invisible restriction on the range of values that can be stored in a field, which can cause problems for future users of the data or scripts processing the data). </p>

      <p>Conversely, do not use numeric fields to represent qualitative attributes.  Qualitative attributes should be stored in text fields, optionally restricted by a lookup of allowed values in the field.  If a qualitative attribute is stored in a related table by a foreign key, the foreign key id column must be integer: never store foreign key ids as text values.  Avoid the use of codes that start with leading zeros (e.g. 0001, 0002 stored as text values). </p>

      <h4>Field Names</h4>

      <p>User-created field names should be standardized to a lowest common denominator format to maximize compatibility with various software tools:</p>

      <ul>
        <li>All lower case (in ArcGIS, Field_name is distinct from field_name)</li>
        <li>Words separated by underscore (species_code, not speciescode or species-code)</li>
        <li>Starts with a letter</li>
        <li>Not more than 24 characters</li>
        <li>Each field name should be unique in the first eight characters, in the event that something truncates the table’s field names at some point.  Avoid creating tables with fields such as “species_code_observed” and “species_code_inferred” which might be truncated to “species_” and “specie_1”.  </li>
        <li>Ensure that <a href="http://desktop.arcgis.com/en/arcmap/latest/manage-data/tables/field-properties-aliases-and-table-display-options.htm#GUID-29965C23-024B-40AF-81F6-AC27CC052CAC">attribute aliases</a> are identical to attribute names</li>
      </ul>

      <p>The geometry column is usually named Shape or SHAPE if the data is coming from ArcGIS, geom or the_geom if coming from an open-source GIS program such as QGIS.  For the object ID field, ensure that it does not have a number appended, which may happen when tables are joined and exported. For example, if the object ID field is something like OID_1 or ObjectID_1, export the data to a new feature class, which should reset the object ID field name.  Typical object ID field names are OID, FID, ObjectID. </p>

      <h4>Field Relevance</h4>
      <p>Remove any fields in the attribute table that do not inform the data. This includes stray fields created by ArcGIS joins and other processes.</p>

      <h3 id="data-packaging">Data Packaging</h3>
      <h4>Formats</h4>
      <p>ESRI File Geodatabase is the preferred format for vector spatial data.  Avoid using feature datasets within a file geodatabase: they add an extra layer of complexity and reduce the number of third-party tools that can read the data. </p>

      <p>Although the shapefile format supports up to 24 characters in field names, some software that generates shapefiles truncates the field names to 8 or 10 characters.  Shapefiles have additional limitations that may cause problems.  If you use shapefiles in programs such as R, the final output can be converted to a File Geodatabase before publishing.</p>

      <p>When publishing layers in a File Geodatabase, create a new file geodatabase and copy only the layers that you want to publish. For a shapefile, include all of the related files (.shp, .shx, .dbf, and so on). </p>

      <p>Geotiff is the preferred format for raster spatial data.  File Geodatabase rasters are not supported at this time.  If you need to publish a dataset that includes both raster and vector layers, you can keep the vector layers in a file GDB and export the Geotiffs to the filesystem, next to the .gdb folder. </p>

      <p>Do not use personal geodatabases.  This legacy format, which still comes up on occasion, has serious problems with poor coordinate precision and size limitations.</p>

      <h4>Layer Names</h4>
      <p>Feature class and table naming conventions within a file geodatabase are the same as field naming conventions. Geotiff filenames should also follow these conventions where possible. </p>

      <h4>Packaging your data</h4>
      <p>All data should be submitted in a folder containing the file geodatabase or shapefiles, and/or geotiff files. You may put the data inside nested folders if it makes sense to do so.  The metadata extractor will traverse the entire folder tree and find all recognized files.  However, the structure of the folder tree inside your uploaded zip file will not be shown on the GIS Hub.  Optionally, you may include ArcGIS .mxd or .lyr files pointing to data in the file geodatabase (be sure to save the mxd file with relative paths).  Prior to uploading, zip the .gdb folder or shapefile, along with any .mxd or .lyr files you wish to include with the data. </p>

      <p>Relevant documents, academic publications, or scripts related to the data can be included in the zip file along with the spatial data.  Ideally, they should be in a separate folder from the spatial data, or contained in a nested zip file.  </p>

    </div>
  </article>
{% endblock %}

{% block secondary_content %}
  <div class="module module-narrow module-shallow">
    <h2 class="module-heading">
      <i class="fa fa-info-circle"></i>
      {{ _('Documentation Index') }}
    </h2>
    <div class="module-content">
      <p>
        Use this sidebar to navigate the documentation.  Each section may
        contain one or more sub-sections.
      </p>
      <p><a href="#issues">Known Issues</a></p>
      <p><a href="#intro">Introduction</a></p>
      <p><a href="#overview">Metadata Overview</a></p>
      <p><a href="#modules">Metadata Modules</a></p>
      <p><a href="#basic">Basic Information</a></p>
      <p><a href="#general">General Metadata</a></p>
      <p><a href="#science">Science Metadata</a></p>
      <p><a href="#species">Species Codes</a></p>
      <p><a href="#add-data">Adding Data</a></p>
      <p><a href="#filetypes">Supported File Types</a></p>
      <p><a href="#attrib-meta">Attribute Metadata</a></p>
      <p><a href="#data-prep">Data Preparation</a></p>
      <p><a href="#spatial-val">Spatial Validation</a></p>
      <p><a href="#attrib-val">Attribute Validation</a></p>
      <p><a href="#data-packaging">Data Packaging</a></p>

    </div>
  </div>
{% endblock %}